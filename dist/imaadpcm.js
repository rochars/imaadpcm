(function(g,n){"object"===typeof exports&&"undefined"!==typeof module?n(exports):"function"===typeof define&&define.amd?define(["exports"],n):(g=g||self,n(g.imaadpcm={}))})(this,function(g){function n(b){var a=b[0];q(a);var c=[];c.push(a&255);c.push(a>>8&255);c.push(m);c.push(0);for(a=3;a<b.length;a+=2){var d=q(b[a]),f=q(b[a+1]);c.push(f<<4|d)}return c}function t(b){var a=b[1]<<8|b[0];h=32768<a?a-65536:a;k=b[2];p=r[k];a=[h,h];for(var c=4;c<b.length;c++){var d=b[c],f=d>>4;a.push(u(f<<4^d));a.push(u(f))}return a}
function q(b){var a=b-l;0<=a?b=0:(b=8,a=-a);var c=r[m],d=c>>3;a>c&&(b|=4,a-=c,d+=c);c>>=1;a>c&&(b|=2,a-=c,d+=c);c>>=1;a>c&&(b|=1,d+=c);a=b;l=a&8?l-d:l+d;-32768>l?l=-32768:32767<l&&(l=32767);m+=v[a&7];0>m?m=0:88<m&&(m=88);return b}function u(b){var a=0;b&4&&(a+=p);b&2&&(a+=p>>1);b&1&&(a+=p>>2);a+=p>>3;b&8&&(a=-a);h+=a;32767<h?h=32767:-32767>h&&(h=-32767);k+=v[b];0>k?k=0:88<k&&(k=88);p=r[k];return h}var v=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],r=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,
41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767],l=0,m=0,h=0,k=0,p=7;g.decode=function(b,a){a=void 0===a?256:a;for(var c=new Int16Array(2*b.length),d=[],f=0,e=0;e<b.length;e++)0==e%a&&0!=e&&(d=t(d),c.set(d,f),f+=d.length,d=[]),
d.push(b[e]);return c};g.decodeBlock=t;g.encode=function(b){for(var a=new Uint8Array(b.length),c=[],d=0,f=0,e=0;e<b.length;e++)0==e%505&&0!=e&&(a.set(n(c),d),d+=256,c=[],f++),c.push(b[e]);b=b.length/2;b%2&&b++;return a.slice(0,b+512+4*f)};g.encodeBlock=n;Object.defineProperty(g,"__esModule",{value:!0})});
